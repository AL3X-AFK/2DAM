CREATE OR REPLACE TYPE VETERINARIO AS OBJECT(
ID INTEGER,
NOMBRE VARCHAR2(200),
DIRECCION VARCHAR2(200));
/


CREATE OR REPLACE TYPE MASCOTA AS OBJECT(
ID INTEGER,
RAZA VARCHAR2(200),
NOMBRE VARCHAR2(200),
VET REF VETERINARIO);
/

CREATE TABLE VETERINARIOS OF VETERINARIO;
INSERT INTO VETERINARIOS VALUES(VETERINARIO(1, 'jesus perez', 'C/El mareo, 29'));

CREATE TABLE MASCOTAS OF MASCOTA;
INSERT INTO MASCOTAS VALUES(1, 'perro', 'sproket', (SELECT REF(V) FROM VETERINARIOS V WHERE V.ID = 1));


SELECT * FROM MASCOTAS;

SELECT ID, RAZA, NOMBRE, DEREF(VET) FROM MASCOTAS;

SELECT NOMBRE, RAZA, M.VET.NOMBRE FROM MASCOTAS M;

DROP TABLE VETERINARIOS;
DROP TABLE MASCOTAS;
DROP TYPE VETERINARIO;
DROP TYPE MASCOTA;